<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Minecraft Bauwunsch</title>
  <style>
    body { font-family: sans-serif; background: #f2f2f2; margin: 2rem; }
    .section { background: white; padding: 1rem; margin-bottom: 2rem; border-radius: 10px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    label { display: block; margin: 0.5rem 0; }
    input[type="number"], input[type="text"], textarea, select { margin-left: 1rem; }
    input[type="number"] { width: 60px; }
    textarea { width: 100%; height: 80px; }
    #total { font-weight: bold; font-size: 1.2em; }
    .hidden { display: none; }
    .hint { font-size: 0.9em; color: #555; margin-top: 0.25rem; }
    button { padding: 0.5rem 1rem; cursor: pointer; }
  </style>
</head>
<body>

  <h1>Minecraft Wunschformular</h1>

  <!-- Kontaktdaten -->
  <div class="section">
    <h2>ğŸ™‹ Deine Kontaktdaten</h2>
    <label>
      Name:<br>
      <input type="text" id="userName" placeholder="Dein Name">
    </label>
    <label>
      Telefonnummer:<br>
      <input type="text" id="userPhone" placeholder="+49...">
    </label>
    <label>
      Discord-Name:<br>
      <input type="text" id="userDiscord" placeholder="Name#1234">
    </label>
  </div>

  <!-- HÃ¤user -->
  <div class="section">
    <h2>ğŸ  HÃ¤user (Etagenweise)</h2>
    <label>
      <input type="checkbox" class="haus" data-preis="27" data-einrichtung="0.15">
      Start â€“ 25â€¯qm â€“ 27â€¯Dias
      <input type="number" min="1" value="1" class="menge hidden">
      <select class="einrichtung hidden">
        <option value="0">Ohne Einrichtung</option>
        <option value="1">Mit Einrichtung (+15%)</option>
      </select>
    </label>
    <label>
      <input type="checkbox" class="haus" data-preis="54" data-einrichtung="0.20">
      Living â€“ 50â€¯qm â€“ 54â€¯Dias
      <input type="number" min="1" value="1" class="menge hidden">
      <select class="einrichtung hidden">
        <option value="0">Ohne Einrichtung</option>
        <option value="1">Mit Einrichtung (+20%)</option>
      </select>
    </label>
    <label>
      <input type="checkbox" class="haus" data-preis="90" data-einrichtung="0.30">
      Main â€“ 100â€¯qm â€“ 90â€¯Dias
      <input type="number" min="1" value="1" class="menge hidden">
      <select class="einrichtung hidden">
        <option value="0">Ohne Einrichtung</option>
        <option value="1">Mit Einrichtung (+30%)</option>
      </select>
    </label>
    <label>
      <input type="checkbox" class="haus" data-preis="180" data-einrichtung="0.45">
      Big â€“ mehr als 100â€¯qm â€“ 180â€¯Dias
      <input type="number" min="1" value="1" class="menge hidden">
      <select class="einrichtung hidden">
        <option value="0">Ohne Einrichtung</option>
        <option value="1">Mit Einrichtung (+45%)</option>
      </select>
    </label>
  </div>

  <!-- Extras -->
  <div class="section">
    <h2>âœ¨ Extras</h2>
    <label>
      <input type="checkbox" class="extra" data-preis="9">
      Tiere â€“ 9â€¯Diasâ€¯/â€¯1â€¯Block
      <input type="number" min="1" value="1" class="menge hidden">
    </label>
    <label>
      <input type="checkbox" class="extra" data-preis="9">
      Farm â€“ 9â€¯Diasâ€¯/â€¯1â€¯Block
      <input type="number" min="1" value="1" class="menge hidden">
    </label>
    <label>
      <input type="checkbox" class="extra" data-preis="18">
      Detail â€“ 18â€¯Diasâ€¯/â€¯2â€¯BlÃ¶cke
      <input type="number" min="1" value="1" class="menge hidden">
    </label>
  </div>

  <!-- Tutorial -->
  <div class="section">
    <h2>ğŸ“˜ Tutorial</h2>
    <label><input type="radio" name="tutorial" value="mit"> Mit Anleitung (â€“15%)</label>
    <label><input type="radio" name="tutorial" value="ohne" checked> Ohne</label>
  </div>

  <!-- Redstone -->
  <div class="section">
    <h2>âš™ï¸ Redstone / Farmen</h2>
    <label><input type="checkbox" class="redstone" data-preis="18"> Simple â€“ 18â€¯Diasâ€¯/â€¯2â€¯BlÃ¶cke</label>
    <label><input type="checkbox" class="redstone" data-preis="45"> Big â€“ 45â€¯Diasâ€¯/â€¯5â€¯BlÃ¶cke</label>
    <label><input type="checkbox" class="redstone" data-preis="72"> Schwer â€“ 72â€¯Diasâ€¯/â€¯8â€¯BlÃ¶cke</label>
  </div>

  <!-- Materialien -->
  <div class="section">
    <h2>ğŸªµ Materialien</h2>
    <label><input type="radio" name="material" value="selber" checked> Stelle ich selbst</label>
    <label><input type="radio" name="material" value="ich"> Du besorgst sie (+50%)</label>
  </div>

  <!-- Terraforming -->
  <div class="section">
    <h2>ğŸŒ„ Terraforming</h2>
    <label><input type="checkbox" class="terra" data-multi="1.5"> Berg (+50%)</label>
    <label><input type="checkbox" class="terra" data-multi="1.1"> Flach (+10%)</label>
    <label><input type="checkbox" class="terra" data-multi="1.25"> Wasser (+25%)</label>
  </div>

  <!-- Wunschort -->
  <div class="section">
    <h2>ğŸ“ Wunschkoordinaten</h2>
    <label>X-Koordinate: <input type="text" id="xCoord"></label>
    <label>Z-Koordinate: <input type="text" id="zCoord"></label>
    <p class="hint">Hinweis: Hier wird dein Bett stehen!</p>
  </div>

  <!-- Stil -->
  <div class="section">
    <h2>ğŸ¨ Stil-Wunsch</h2>
    <textarea id="stil" placeholder="z.â€¯B. Steampunk, modern, Mittelalter oder Layout wie 5Ã—10"></textarea>
    <p class="hint">Standard: Holz und Stein (ansonsten optische MÃ¤ngel mÃ¶glich, Aufpreis vor Ort verhandelbar)</p>
  </div>

  <!-- ExtrawÃ¼nsche -->
  <div class="section">
    <h2>ğŸ’¬ ExtrawÃ¼nsche</h2>
    <textarea id="extrawunsch" placeholder="Preis wird vor Ort verhandelt."></textarea>
  </div>

  <!-- Preis & Absenden -->
  <div class="section">
    <button onclick="absenden()">Absenden</button>
    <p id="total">Gesamt: 0 Dias</p>
  </div>

  <script>
    // Zeige Mengen- und Einrichtungselemente nur wenn ausgewÃ¤hlt
    document.querySelectorAll('.haus, .extra').forEach(cb => {
      cb.addEventListener('change', () => {
        const parent = cb.parentElement;
        parent.querySelectorAll('.menge, .einrichtung')
              .forEach(el => el.classList.toggle('hidden', !cb.checked));
      });
    });

    function berechnePreis() {
      let sum = 0;
      // HÃ¤user
      document.querySelectorAll('.haus:checked').forEach(el => {
        const menge = +el.parentElement.querySelector('.menge').value;
        let basis = +el.dataset.preis * menge;
        if (el.parentElement.querySelector('.einrichtung').value === "1") {
          basis *= (1 + +el.dataset.einrichtung);
        }
        sum += basis;
      });
      // Extras
      document.querySelectorAll('.extra:checked').forEach(el => {
        const menge = +el.parentElement.querySelector('.menge').value;
        sum += +el.dataset.preis * menge;
      });
      // Redstone
      document.querySelectorAll('.redstone:checked')
              .forEach(el => sum += +el.dataset.preis);
      // Material
      if (document.querySelector('input[name="material"]:checked').value === "ich") {
        sum *= 1.5;
      }
      // Terraforming
      document.querySelectorAll('.terra:checked')
              .forEach(el => sum *= +el.dataset.multi);
      // Tutorial
      if (document.querySelector('input[name="tutorial"]:checked').value === "mit") {
        sum *= 0.85;
      }
      return Math.round(sum);
    }

    function absenden() {
      const name    = document.getElementById('userName').value.trim();
      const phone   = document.getElementById('userPhone').value.trim();
      const discord = document.getElementById('userDiscord').value.trim();
      // Pflichtfelder prÃ¼fen
      if (!name || !phone || !discord) {
        alert("Bitte fÃ¼lle Name, Telefonnummer und Discord-Name aus.");
        return;
      }

      const preis = berechnePreis();
      document.getElementById('total').textContent = `Gesamt: ${preis} Dias`;

      if (!confirm("MÃ¶chtest du die Anfrage wirklich absenden?")) return;

      // Weitere Felder sammeln
      const x      = document.getElementById('xCoord').value || 'â€“';
      const z      = document.getElementById('zCoord').value || 'â€“';
      const stil   = document.getElementById('stil').value.trim() || 'â€“';
      const extra  = document.getElementById('extrawunsch').value.trim() || 'â€“';

      // SMS-Text bauen
      const msg =
        `Minecraft-Anfrage\n` +
        `Name: ${name}\n` +
        `Tel: ${phone}\n` +
        `Discord: ${discord}\n` +
        `Preis: ${preis} Dias\n` +
        `Koordinaten: X=${x}, Z=${z}\n` +
        `Stil: ${stil}\n` +
        `ExtrawÃ¼nsche: ${extra}`;

      // Deine Nummer hier eintragen
      const myNumber = '+4915111655690';
      window.location.href = `sms:${myNumber}?body=${encodeURIComponent(msg)}`;
    }
  </script>

</body>
</html>

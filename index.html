<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minecraft Bauwünsche</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 2rem;
      background-color: #f0f0f0;
    }
    .section {
      margin-bottom: 2rem;
      background: white;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin: 0.5rem 0;
    }
    input[type="number"] {
      width: 60px;
      margin-left: 1rem;
    }
    #total {
      font-weight: bold;
      font-size: 1.2em;
    }
  </style>
</head>
<body>

  <h1>Minecraft Wunschformular</h1>

  <!-- Häuser -->
  <div class="section">
    <h2>🏠 Häuser</h2>
    <label><input type="checkbox" class="haus" data-preis="27"> Start (27 Dias / 3 Blöcke) <input type="number" min="1" value="1" class="menge hidden" /></label>
    <label><input type="checkbox" class="haus" data-preis="54"> Living (54 Dias / 6 Blöcke) <input type="number" min="1" value="1" class="menge hidden" /></label>
    <label><input type="checkbox" class="haus" data-preis="90"> Main (90 Dias / 10 Blöcke) <input type="number" min="1" value="1" class="menge hidden" /></label>
    <label><input type="checkbox" class="haus" data-preis="180"> Big (180 Dias / 20 Blöcke) <input type="number" min="1" value="1" class="menge hidden" /></label>
  </div>

  <!-- Extras -->
  <div class="section">
    <h2>✨ Extras</h2>
    <label><input type="checkbox" class="extra" data-preis="9"> Tiere (9 Dias / 1 Block) <input type="number" min="1" value="1" class="menge hidden" /></label>
    <label><input type="checkbox" class="extra" data-preis="9"> Farm (9 Dias / 1 Block) <input type="number" min="1" value="1" class="menge hidden" /></label>
    <label><input type="checkbox" class="extra" data-preis="18"> Detail (18 Dias / 2 Blöcke) <input type="number" min="1" value="1" class="menge hidden" /></label>
  </div>

  <!-- Tutorial -->
  <div class="section">
    <h2>📘 Tutorial</h2>
    <label><input type="radio" name="tutorial" value="with"> Mit (-15%)</label>
    <label><input type="radio" name="tutorial" value="without" checked> Ohne</label>
  </div>

  <!-- Redstone -->
  <div class="section">
    <h2>⚙️ Redstone / Farmen</h2>
    <label><input type="checkbox" class="redstone" data-preis="18"> Simple (18 Dias / 2 Blöcke)</label>
    <label><input type="checkbox" class="redstone" data-preis="45"> Big (45 Dias / 5 Blöcke)</label>
    <label><input type="checkbox" class="redstone" data-preis="72"> Schwer (72 Dias / 8 Blöcke)</label>
  </div>

  <!-- Materialien -->
  <div class="section">
    <h2>🪵 Materialien</h2>
    <label><input type="radio" name="material" value="selbst" checked> Selbst mitbringen (/)</label>
    <label><input type="radio" name="material" value="ich"> Ich kümmere mich (+50%)</label>
  </div>

  <!-- Terraforming -->
  <div class="section">
    <h2>🌄 Terraforming</h2>
    <label><input type="checkbox" class="terra" data-multi="1.5"> Berg (+50%)</label>
    <label><input type="checkbox" class="terra" data-multi="1.1"> Flach (+10%)</label>
    <label><input type="checkbox" class="terra" data-multi="1.25"> Wasser (+25%)</label>
  </div>

  <!-- Ergebnis -->
  <div class="section">
    <button onclick="berechne()">Preis berechnen</button>
    <p id="total">Gesamt: 0 Dias</p>
  </div>

  <script>
    const alleCheckboxenMitMenge = document.querySelectorAll('.haus, .extra');

    // Checkbox-Logik: Eingabefeld zeigen
    alleCheckboxenMitMenge.forEach(cb => {
      cb.addEventListener('change', () => {
        const eingabe = cb.parentElement.querySelector('.menge');
        if (cb.checked) {
          eingabe.classList.remove('hidden');
        } else {
          eingabe.classList.add('hidden');
        }
      });
    });

    function berechne() {
      let summe = 0;

      // Häuser + Extras mit Menge
      document.querySelectorAll('.haus:checked, .extra:checked').forEach(el => {
        const menge = Number(el.parentElement.querySelector('.menge').value || 1);
        summe += Number(el.dataset.preis) * menge;
      });

      // Redstone / Farmen
      document.querySelectorAll('.redstone:checked').forEach(el => {
        summe += Number(el.dataset.preis);
      });

      // Materialkosten
      const material = document.querySelector('input[name="material"]:checked').value;
      if (material === "ich") summe *= 1.5;

      // Terraforming
      document.querySelectorAll('.terra:checked').forEach(el => {
        summe *= Number(el.dataset.multi);
      });

      // Tutorial Rabatt
      const tutorial = document.querySelector('input[name="tutorial"]:checked').value;
      if (tutorial === "with") summe *= 0.85;

      // Ausgabe
      document.getElementById('total').textContent = `Gesamt: ${Math.round(summe)} Dias`;
    }
  </script>

</body>
</html>
